<h1 mat-dialog-title>Properties of Resource {{curRes?.id}}</h1>
<mat-divider></mat-divider>

<form name="form" (ngSubmit)="f.form.valid && onSaveClick()" #f="ngForm" [validTimeWindow]="['']" novalidate>
    <div mat-dialog-content>

        <!--<mat-form-field>
    <mat-label>Favorite Animal</mat-label>
    <input matInput [(ngModel)]="data.animal">
  </mat-form-field>

  <mat-divider></mat-divider>-->

        <mat-tab-group>

            <mat-tab label="Basic">

                <p></p>
                <ul>
                    <li>
                        <mat-label matTooltip="When is a resource allowed to work? Click on cards to modify.">Modify
                            WorkingHours
                        </mat-label>
                    </li>
                </ul>
                <p></p>

                <!-- OPENING HOURS -->
                <mat-accordion>
                    <div *ngFor="let workinghours of workingHoursCopy; let i = index" [attr.data-index]="i">

                        <mat-expansion-panel  style="width:95%;margin:0 auto;" matTooltip="Click me to modify.">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Working hour
                                </mat-panel-title>
                                <mat-panel-description>
                                    # {{i+1}}
                                </mat-panel-description>
                            </mat-expansion-panel-header>

                            <p></p>
                            <h4>
                                <mat-label matTooltip="Till when the node should be visited.">WorkingHours start :
                                </mat-label>
                            </h4>
                            <mat-form-field style="width:100% !important" appearance="fill">

                                <mat-label>WorkingHours start</mat-label>
                                <input matInput name="twstart{{i}}" [ngxMatDatetimePicker]="pickerBegin"
                                    placeholder="WorkingHours start" [(ngModel)]="workinghours.timeWindow.begin">
                                <mat-datepicker-toggle matSuffix [for]="pickerBegin">
                                </mat-datepicker-toggle>
                                <ngx-mat-datetime-picker #pickerBegin [showSpinners]="true" [showSeconds]="false"
                                    [stepHour]="1" [stepMinute]="15" [stepSecond]="60" [touchUi]="true">
                                </ngx-mat-datetime-picker>
                            </mat-form-field>
                            <p></p>
                            <h4>
                                <mat-label matTooltip="Till when the work at the node should be done."> WorkingHours end
                                    :
                                </mat-label>
                            </h4>

                            <mat-form-field style="width:100% !important" appearance="fill">
                                <mat-label>WorkingHours end</mat-label>
                                <input matInput name="twend{{i}}" [ngxMatDatetimePicker]="pickerEnd"
                                    placeholder="WorkingHours end" [(ngModel)]="workinghours.timeWindow.end">
                                <mat-datepicker-toggle matSuffix [for]="pickerEnd">
                                </mat-datepicker-toggle>
                                <ngx-mat-datetime-picker #pickerEnd [showSpinners]="true" [showSeconds]="false"
                                    [stepHour]="1" [stepMinute]="15" [stepSecond]="60" [touchUi]="true">
                                </ngx-mat-datetime-picker>
                            </mat-form-field>
                            <p></p>
                        </mat-expansion-panel>
                        <p></p>
                    </div>

                </mat-accordion>
                <!-- OPENING HOURS END -->
                <mat-divider></mat-divider>

                <!--MAX WORKINGTIME -->
                <p></p>
                <ul>
                    <li>
                        <mat-label matTooltip="How long a Resource needs to stay at the node? Click on card to modify.">
                            Modify maximal working time</mat-label>
                    </li>
                </ul>
                <p></p>
                <mat-accordion>
                    <mat-expansion-panel style="width:95%;margin:0 auto;" matTooltip="Click me to modify.">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Max Working time
                            </mat-panel-title>
                            <mat-panel-description>
                                {{maxTimeHours}} [hr]
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-card>
                            <mat-form-field style="width:100% !important">
                                <h4>
                                    <mat-label>Visit duration [min]</mat-label>
                                </h4>
                                <input matInput name="maxworkingtime" #maxWorkingTime min="1" max="999" pattern="\d*"
                                    placeholder="30" maxLength="3" [(ngModel)]="maxTimeHours" type="number"
                                    oninput="javascript: if (this.value.length > this.maxLength) {this.value = this.value.slice(0, this.maxLength);} if (this.value<=0) {this.value = 1;} if (this.value>24) {this.value = 24;}">
                            </mat-form-field>

                        </mat-card>
                    </mat-expansion-panel>
                </mat-accordion>
                <!--MAX WORKINGTIME END -->
                <p></p>
            </mat-tab>

            <mat-tab label="Advandced"></mat-tab>


        </mat-tab-group>
        <!--<mat-label>Current OpeningHours</mat-label>
  <p></p>
  <div *ngFor="let openinghours of openingHoursCopy">


    <mat-form-field appearance="fill">
      <mat-label>OpeningHours start</mat-label>
      <input matInput [ngxMatDatetimePicker]="pickerBegin" placeholder="OpeningHours start"
        [(ngModel)]="openinghours.timeWindow.begin">
      <mat-datepicker-toggle matSuffix [for]="pickerBegin">
      </mat-datepicker-toggle>
      <ngx-mat-datetime-picker #pickerBegin [showSpinners]="true" [showSeconds]="false" [stepHour]="1" [stepMinute]="15"
        [stepSecond]="60" [touchUi]="false">
      </ngx-mat-datetime-picker>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>OpeningHours start</mat-label>
      <input matInput [ngxMatDatetimePicker]="pickerEnd" placeholder="OpeningHours start"
        [(ngModel)]="openinghours.timeWindow.end">
      <mat-datepicker-toggle matSuffix [for]="pickerEnd">
      </mat-datepicker-toggle>
      <ngx-mat-datetime-picker #pickerEnd [showSpinners]="true" [showSeconds]="false" [stepHour]="1" [stepMinute]="15"
        [stepSecond]="60" [touchUi]="false">
      </ngx-mat-datetime-picker>
    </mat-form-field>

    <p></p>

  </div>-->



    </div>
    <div mat-dialog-actions>
        <!--<button mat-button [mat-dialog-close]="data.animal" cdkFocusInitial>Save</button>-->
        <button mat-raised-button matTooltip="Save all modifications and close this dialog." color="primary"
            (click)="onSaveClick()" [disabled]="!f.valid" cdkFocusInitial>Save all modification and close</button>
        <button mat-raised-button matTooltip="Close this dialog and discard all modifications." color="warn"
            (click)="onNoClick()">Cancel and close</button>
    </div>

</form>